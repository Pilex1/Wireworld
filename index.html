<html>
	<title>
		Wireworld
	</title>

    <h1 style = "color: black; font-size: 26;">
        Wireworld - A Turing Complete cellular automaton
    </h1>
    
    <p style = "color: black; font-size: 16;">
      Instructions:<br><br>

      Mousewheel or number keys 1 - 5 to select tiles<br>
      1 - Yellow - Conductor<br>
      2 - Blue - Blue Electron<br>
      3 - Green - Initialiser<br>
      4 - Orange - Toggleable Conductor<br>
      5 - Gray - Empty<br><br>
      
      Left click to place tiles.<br>
      Right click to remove tiles.<br><br>
      
      Core tiles:<br>
      Blue Electrons will transform into Red Electrons.<br>
      Red Electrons will transform into Conductors.<br>
      Conductors that have exactly one or two orthogonally or diagonally adjacent Blue Electrons will transform into a Blue Electron.<br><br>

      Convenience tiles:<br>
      Initialisers will transform orthogonally adjacent tiles into Blue Electrons when the "Activate initialisers" button is pressed.<br>
      Toggleable Conductors act as regular Conductors when the "Activate toggleable conductors" checkbox is checked, otherwise as Empty tiles.<br><br>
      
      Challenges:<br>
      - Construct a diode<br>
      - Construct a clock<br>
      - Construct a AND gate<br>
      - Construct a OR gate<br>
      - Construct a XOR gate<br>
      - Construct a NOT gate<br>
      - Construct a electron bridge<br>
      - Construct a T Flip-Flop<br>
      - Construct a monostable circuit<br>
      - Construct a RS Nor-Latch<br>
      - Construct a adder<br>
      - Construct a subtracter<br>
      - Construct a multiplier<br>
      - Construct a divider<br>
      - Construct a seven segment display<br>
      - Construct a binary to decimal converter<br>
      - Construct a decimal to binary converter<br>
      - Construct a calculator<br>
      - Construct a computer<br>
      - Construct a Langon's Ant simulation<br>
    </p>
    



	<body onload = "App.init(); ">
	    
	    <div>
		    <div style = "float: left; padding-right: 5; border-style: groove; border-width: 0 10 0 0; border-color: gray">
		        <canvas id = "gamecanvas" width = "1000" height = "600"></canvas>
		    </div>

			<div style = "margin-left: 15px; float: left;">
			    <input type = "submit" value = "Stabilise electrons" onclick = "Terrain.stabilise();">
			    <br>

			    <input type = "submit" value = "Activate initialisers" onclick = "Terrain.activate_initialisers = true;">
			    <br>

			    <input id = cbx_toggleConductors type = checkbox onclick = "Terrain.activate_toggleConductors = cbx_toggleConductors.checked"> Activate Toggleable Conductors<br>

			    <input type="submit" value = "Select" onclick = "App.selection_pressed = 'multi';">
			    <input id = "btn_copy" type="submit" disabled value = "Copy" onclick = "Terrain.copySelection(); App.selection_pressed = 'copy';">
			    <input id = "btn_move" type="submit" disabled value = "Move" onclick = "Terrain.cutSelection(); App.selection_pressed = 'move';">
			    <input id = "btn_delete" type="submit" disabled value = "Delete" onclick = "
			    	if (window.confirm('Are you sure you want to delete this selection?')) {
			    		Terrain.deleteSelection(); 
			    		App.selection_pressed = 'delete';
			    	}
			    ">
			    <br>
	        
	        	<input id = "slider_fps" type = "range" min = 0 max = 30 value = "10" oninput = "txt_fps.innerHTML = 'Updates per second: ' + slider_fps.value; Terrain.update_cooldown.cooldown = 1000 / slider_fps.value">
	        	<label id = "txt_fps">Updates per second: 10</label>
	        	<br>
	        
	        
	        	<input id = "slider_zoom" type = "range" min = 50 max = 250 value = "100" step = 1 oninput = "txt_zoom.innerHTML = 'Zoom: ' + slider_zoom.value; Camera.position[2] = -1 * slider_zoom.value">
	        	<label id = "txt_zoom">Zoom: 100</label>
	        	<br>
	        
	        	Width: <input id = "txtbx_world_width" type="number" value = 100 style = "width: 50"> Height: <input id = "txtbx_world_height" type="number" value = 100 style = "width: 50">
	        	<input type = "submit" value = "Clear world" onclick = "
	        		if (window.confirm('Are you sure you want to clear this world?')) {
	        			Terrain.new(parseInt(txtbx_world_width.value), parseInt(txtbx_world_height.value));
	        		}" value = 'Updates per second: ' + slider_fps.value>
	        	<br>
	        
	        	<input id = "txtbx_saveWorld" type = "text" value = "default" rows = 1 columns = 50 >
	        	<input type = "submit" value = "Save world" onclick = "Terrain.save(txtbx_saveWorld.value); updateWorlds();" >
	        	<br>
	        
	        	<select id = "select_loadWorld"></select>
	        	<input type = "submit" value = "Load world" onclick = "Terrain.load(select_loadWorld.value);">
		    	<br>

	        	<select id = "select_deleteWorld"></select>
	        	<input type = "submit" value = "Delete world" onclick = "
	        		if (window.confirm('Are you sure you want to delete world: &quot;' + select_deleteWorld.value + '&quot;')) {
	        			Terrain.delete(select_deleteWorld.value); 
	        			updateWorlds();
	        		}">
	        	<br>

	        	<script>
	        		var updateWorlds = function() {

	        			select_loadWorld.options.length = 0;
	        			select_deleteWorld.options.length = 0;

	        			var names = Object.getOwnPropertyNames(localStorage);
		        		for (var i = 0; i < names.length; i++) {
		        			var opt = document.createElement("option");
		        			opt.value = names[i];
		        			opt.innerHTML = names[i];
		        			select_deleteWorld.appendChild(opt);

		        			var opt = document.createElement("option");
		        			opt.value = names[i];
		        			opt.innerHTML = names[i];
		        			select_loadWorld.appendChild(opt);
		        		}
	        		}
	        	</script>

	        	<script>updateWorlds();</script>

	        	<br><br>
	       		<h2>Experimental</h2>
	       		<select id = select_logicTest>
	       			<option>diode</option>
	       			<option>and</option>
	       		</select>
	       		<input type="submit" value="Go" onclick="
	       			var text = '';
	       			var strings = LogicTest.test(select_logicTest.value);
	       			if (strings.length === 0) {
	       				console.log('No results found.');
	       				return;
	       			}
	       			for (var i = 0; i < strings.length; i++) {
	       				text += strings[i] + '\n\n';
	       			}

	       			var element = document.createElement('a');
					element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
					element.setAttribute('download', 'logic_test_' + select_logicTest.value + '.txt');

					element.style.display = 'none';
					document.body.appendChild(element);

					element.click();

					document.body.removeChild(element);
	       		">
	       		<br>
			</div>

		</div>
		<br>

		<div style = "clear: left;">
			<br>

        	<input type = "submit" value = "Import world" onclick = "console.log('Importing world from JSON.'); Terrain.loadJSON(txtbx_importWorld.value);">
        	<br>
			<textarea id  = txtbx_importWorld type = text rows = 5 cols = 120 spellcheck = false></textarea>
        	<br><br>

        	<input type = "submit" value = "Export world" onclick = "console.log('Exporting world to JSON.'); txtbx_exportWorld.value = Terrain.toJSON();">
        	<br>
        	<textarea id  = txtbx_exportWorld type = text rows = 5 cols = 120 spellcheck = false></textarea>
        	<br>

		</div>
		<br>

		<br>
        <p>Copyright Alex Tan 2016</p>
		
	</body>
	


	<script src = gl-matrix.js></script>
	<script src = app.js></script>
	<script src = terrain.js></script>
	<script src = model.js></script>
	<script src = renderer.js></script>
	<script src = camera.js></script>
	<script src = input.js></script>
	<script src = gametime.js></script>
	<script src = util.js></script>
	<script src = logictest.js></script>

</html>